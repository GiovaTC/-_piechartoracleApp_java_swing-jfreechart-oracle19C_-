# -_piechartoracleApp_java_swing-jfreechart-oracle19C_- :.
# PieChartOracleApp -- Java Swing + JFreeChart + Oracle 19c .

<img width="1536" height="1024" alt="image" src="https://github.com/user-attachments/assets/d2e510b0-65a7-4410-8023-9b04f36d571a" />    

Programa completo en **Java (Swing)** que genera un **gr√°fico tipo Excel
(pie chart)** y guarda los valores en una **base de datos Oracle 19c** .

------------------------------------------------------------------------

## ‚úÖ Caracter√≠sticas principales

-   Interfaz gr√°fica desarrollada en **Java Swing**\
-   Gr√°fico **Pie Chart** usando **JFreeChart**\
-   Porcentajes de ejemplo: **30%, 40%, 30%**\
-   Guarda datos en Oracle 19c (VALUE1, VALUE2, VALUE3, fecha)\
-   C√≥digo 100% funcional y listo para usar en **IntelliJ IDEA**

------------------------------------------------------------------------

## üìå 1. Dependencias necesarias

### ‚û§ A) Driver Oracle 19c

Debes descargar **ojdbc11.jar** o **ojdbc8.jar** y agregarlo a:

    File ‚Üí Project Structure ‚Üí Modules ‚Üí Dependencies ‚Üí + ‚Üí JAR

### ‚û§ B) JFreeChart

Descargar desde:\
https://sourceforge.net/projects/jfreechart/files/

Necesitas:

-   `jfreechart-x.x.x.jar`
-   `jcommon-x.x.x.jar`

Instalarlos igual que el driver Oracle .

------------------------------------------------------------------------

## üìå 2. Script SQL Oracle 19c

``` sql
CREATE TABLE CHART_DATA (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
    VALUE1 NUMBER,
    VALUE2 NUMBER,
    VALUE3 NUMBER,
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

------------------------------------------------------------------------

## üìå 3. C√≥digo completo Java

**Gu√°rdalo como:** `PieChartOracleApp.java`

``` java
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.data.general.DefaultPieDataset;

import javax.swing.*;
import java.awt.*;
import java.sql.*;

public class PieChartOracleApp extends JFrame {

    private JTextField txtV1, txtV2, txtV3;
    private JPanel chartContainer;

    // ===== CONFIGURAR AQU√ç TU BD ORACLE =====
    private static final String URL = "jdbc:oracle:thin:@localhost:1521:ORCLCDB";
    private static final String USER = "SYSTEM";
    private static final String PASS = "tu_password";

    public PieChartOracleApp() {
        setTitle("Gr√°fico Excel - Porcentajes (Oracle 19c)");
        setSize(750, 600);
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        setLayout(new BorderLayout());

        // Panel de entrada de datos
        JPanel inputPanel = new JPanel();
        inputPanel.setLayout(new GridLayout(4, 2, 5, 5));

        inputPanel.add(new JLabel("Valor 1 (%):"));
        txtV1 = new JTextField("30");
        inputPanel.add(txtV1);

        inputPanel.add(new JLabel("Valor 2 (%):"));
        txtV2 = new JTextField("40");
        inputPanel.add(txtV2);

        inputPanel.add(new JLabel("Valor 3 (%):"));
        txtV3 = new JTextField("30");
        inputPanel.add(txtV3);

        JButton btnGenerar = new JButton("Generar Gr√°fico");
        JButton btnGuardar = new JButton("Guardar en Oracle");

        inputPanel.add(btnGenerar);
        inputPanel.add(btnGuardar);

        add(inputPanel, BorderLayout.NORTH);

        // Contenedor del gr√°fico
        chartContainer = new JPanel();
        add(chartContainer, BorderLayout.CENTER);

        // Acci√≥n: generar gr√°fico
        btnGenerar.addActionListener(e -> generarGrafico());

        // Acci√≥n: guardar en Oracle
        btnGuardar.addActionListener(e -> guardarOracle());
    }

    private void generarGrafico() {
        try {
            double v1 = Double.parseDouble(txtV1.getText());
            double v2 = Double.parseDouble(txtV2.getText());
            double v3 = Double.parseDouble(txtV3.getText());

            DefaultPieDataset dataset = new DefaultPieDataset();
            dataset.setValue("Tema A (30%)", v1);
            dataset.setValue("Tema B (40%)", v2);
            dataset.setValue("Tema C (30%)", v3);

            JFreeChart chart = ChartFactory.createPieChart(
                    "Distribuci√≥n de Porcentajes (Tipo Excel)",
                    dataset,
                    true,
                    true,
                    false
            );

            chartContainer.removeAll();
            chartContainer.add(new ChartPanel(chart));
            chartContainer.validate();
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Error al generar gr√°fico: " + ex.getMessage());
        }
    }

    private void guardarOracle() {
        try (Connection conn = DriverManager.getConnection(URL, USER, PASS)) {

            String sql = "INSERT INTO CHART_DATA (VALUE1, VALUE2, VALUE3) VALUES (?, ?, ?)";
            PreparedStatement ps = conn.prepareStatement(sql);

            ps.setDouble(1, Double.parseDouble(txtV1.getText()));
            ps.setDouble(2, Double.parseDouble(txtV2.getText()));
            ps.setDouble(3, Double.parseDouble(txtV3.getText()));

            ps.executeUpdate();

            JOptionPane.showMessageDialog(this, "Datos guardados en Oracle correctamente.");

        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(this, "Error Oracle: " + ex.getMessage());
        }
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> new PieChartOracleApp().setVisible(true));
    }
}
```

------------------------------------------------------------------------

## üé® ¬øQu√© contiene el ejemplo?

<img width="560" height="420" alt="image" src="https://github.com/user-attachments/assets/55c89643-d553-4cf7-b065-41b4ce9c9ba4" />  

<img width="710" height="411" alt="image" src="https://github.com/user-attachments/assets/07aabede-88ec-437d-9f2c-8abd6cd9335c" />  

-   Panel superior con campos para porcentajes\
-   Bot√≥n **Generar Gr√°fico**\
-   Bot√≥n **Guardar en Oracle**\
-   Registro autom√°tico en Oracle con la fecha actual

------------------------------------------------------------------------

## ‚úîÔ∏è Valores de ejemplo que se almacenan

  VALUE1   VALUE2   VALUE3   CREATED_AT
  -------- -------- -------- --------------
  30       40       30       Fecha actual

------------------------------------------------------------------------

## üìß Autor

Giovanny Alejandro Tapiero Cata√±o & ChatGPT

------------------------------------------------------------------------ :.
